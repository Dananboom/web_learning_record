## box dimensions

* 每个盒子都有内容区域，例如 text ，img etc，并且周围还有可选的外边距，内边距，边框，他们都是被属性指定的，他们各个又可以被分为左边的，右边的，上、下等，比如LP是left padding。![1617070247312](C:\Users\Danan\AppData\Roaming\Typora\typora-user-images\1617070247312.png)

* 这四个部分的每一个perimeter叫做edge。

  *  content edge or inner edge
    * 内容的edge被里面的内容撑开。
  * padding edge
    * 边框的边围着盒子的边，如果padding width是0，那么边框的边和内容的边是重合的，这四个边缘定义了padding box
  * border edge
    * border edge 围着盒子的边缘，如果border width 是0 的话，border edge 和padding edge是一样的，
  * margin edge or outer edge
    * margin edge 围绕着盒子的外边距，如果margin width 为0，margin edge 和border edge 是一样的，
  * 每个edge 会被分成left ，right ，top，bottom
  * 盒子内容区域的大小取决于以下
    * 生成边框的元素的宽高是否被属性设置 whether the element generating the box has the ['width'](https://www.w3.org/TR/2011/REC-CSS2-20110607/visudet.html#propdef-width) or ['height'](https://www.w3.org/TR/2011/REC-CSS2-20110607/visudet.html#propdef-height) property set 
    * 是否盒子里面有内容或者其他盒子。
    * 是否盒子是一个表格
    * ……

  * * 

  ## example of margins padding and border

  ```html
  <!DOCTYPE html>
  <html lang="en">
  
  <head>
      <meta charset="UTF-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Document</title>
  </head>
  <style>
      UL {
          background: yellow;
          margin: 12px 12px 12px 12px;
          padding: 3px 3px 3px 3px;
          /* No borders set */
          /*ul 的 content 包括了li的margin*/
      }
  
      LI {
          color: white;
          /* text color is white */
          background: blue;
          /* Content, padding will be blue */
          margin: 12px 12px 12px 12px;
          padding: 12px 0px 12px 12px;
          /* Note 0px padding right */
          /*li的padding 的bgc会和内容的一样是蓝色的。*/
          list-style: none
              /* no glyphs before a list item */
              /* No borders set */
      }
  
      LI.withborder {
          border-style: dashed;
          border-width: 2px;
          /* sets border width on all sides */
          border-color: lime;
      }
  </style>
  
  <body>
      <UL>
          <LI>First element of list
          <LI class="withborder">Second element of list is
              a bit longer to illustrate wrapping.
      </UL>
  </body>
  
  </html>
  ```

  ![1617075307441](C:\Users\Danan\AppData\Roaming\Typora\typora-user-images\1617075307441.png)

  ​	![1617075510029](C:\Users\Danan\AppData\Roaming\Typora\typora-user-images\1617075510029.png)

  ​	Note that:

  - *The [content width](https://www.w3.org/TR/2011/REC-CSS2-20110607/box.html#content-width) for each LI box is calculated top-down; the [containing block](https://www.w3.org/TR/2011/REC-CSS2-20110607/visuren.html#containing-block) for each LI box is established by the UL element.*每个LI框的内容宽度是自上而下计算的;每个Ll框的containing_block由UL元素建立。
  - *The margin box height of each LI box depends on its [content height](https://www.w3.org/TR/2011/REC-CSS2-20110607/box.html#content-height), plus top and bottom padding, borders, and margins. Note that vertical margins between the LI boxes [collapse.](https://www.w3.org/TR/2011/REC-CSS2-20110607/box.html#collapsing-margins)*每个LI框的边距框高度取决于其内容高度，加上顶部和底部内边距、边框和边距。注意，Ll框之间的垂直边距会折叠。
  - *The right padding of the LI boxes has been set to zero width (the ['padding'](https://www.w3.org/TR/2011/REC-CSS2-20110607/box.html#propdef-padding) property). The effect is apparent in the second illustration.* LI方框的右内边距被设置为零宽度(.padding属性)。效果在第二个例子中很明显。
  - *The margins of the LI boxes are transparent — margins are always transparent — so the background color (yellow) of the UL padding and content areas shines through them.*  li的外边距总是透明的，所以ul的padding和内容区域的背景颜色（黄色）会穿透它
  - *The second LI element specifies a dashed border (the ['border-style'](https://www.w3.org/TR/2011/REC-CSS2-20110607/box.html#propdef-border-style) property).*第二个被指定了点线边框

## margin properties margin - top，right left and marign

* 边距属性指定框的边距区域的宽度。“margin”简写属性设置所有四个边距，而其他边距属性只设置它们各自的边距。这些属性适用于所有元素，但垂直边距对行内元素没有任何影响。

* 本节定义的属性引用了margin-width值类型，它可以接受以下值之一:

  * length---指的固定的长度
  * percentage---指定百分比，百分比是被盒子的containing block 的宽度来设置的。（基于父元素的宽度的备份比的外边距？）
  * auto

  允许margin为负值，但是在特定情况下实现不了

* **'margin-top'**, **'margin-bottom'**

  | *Value:*          | margin-width\| [inherit](https://www.w3.org/TR/2011/REC-CSS2-20110607/cascade.html#value-def-inherit) |
  | ----------------- | ------------------------------------------------------------ |
  | *Initial:*        | 0                                                            |
  | *Applies to:*     | *all elements except elements with table display types other than table-caption, table and inline-table*(除了表的标题，表格和行元素) |
  | *Inherited:*      | no                                                           |
  | *Percentages:*    | refer to width of containing block                           |
  | *Media:*          | [visual](https://www.w3.org/TR/2011/REC-CSS2-20110607/media.html#visual-media-group) |
  | *Computed value:* | the percentage as specified or the absolute length           |

   **These properties have no effect on non-replaced inline elements.** 

* **'margin-right'**, **'margin-left'**

  | *Value:*          | margin-width\| [inherit](https://www.w3.org/TR/2011/REC-CSS2-20110607/cascade.html#value-def-inherit) |
  | ----------------- | ------------------------------------------------------------ |
  | *Initial:*        | 0                                                            |
  | *Applies to:*     | all elements except elements with table display types other than table-caption, table and inline-table |
  | *Inherited:*      | no                                                           |
  | *Percentages:*    | refer to width of containing block                           |
  | *Media:*          | [visual](https://www.w3.org/TR/2011/REC-CSS2-20110607/media.html#visual-media-group) |
  | *Computed value:* | the percentage as specified or the absolute length           |

* **'margin'**

  | *Value:*          | margin-width{1,4} \| [inherit](https://www.w3.org/TR/2011/REC-CSS2-20110607/cascade.html#value-def-inherit) |
  | ----------------- | ------------------------------------------------------------ |
  | *Initial:*        | see individual properties                                    |
  | *Applies to:*     | all elements except elements with table display types other than table-caption, table and inline-table |
  | *Inherited:*      | no                                                           |
  | *Percentages:*    | refer to width of containing block                           |
  | *Media:*          | [visual](https://www.w3.org/TR/2011/REC-CSS2-20110607/media.html#visual-media-group) |
  | *Computed value:* | see individual properties                                    |

  margin是简略写法，如果只有一个值；四个边都会被设置，如果两个值，第一个值表示top&bottom，第二个值表示的是left&right；三个值从左往右依次是top，left&right，bottom；四个值依次是 top, right, bottom, and left 

  ```css
  body { margin: 2em }         /* all margins set to 2em */
  body { margin: 1em 2em }     /* top & bottom = 1em, right & left = 2em */
  body { margin: 1em 2em 3em } /* top=1em, right=2em, bottom=3em, left=2em */
  ```

  ```css
  /*上面最后一个可以写成这样*/
  body {
    margin-top: 1em;
    margin-right: 2em;
    margin-bottom: 3em;
    margin-left: 2em;        /* copied from opposite side (right) */
  }
  ```

  ### collapsing margins（外边距塌陷）

  * 在css中，两个或者多个盒子挨在一起两个边距会被结合成一个边距，这种情况被称为塌陷，由此产生的结合的边距被称为塌陷的边距（collapsed margin）。
  
  * 相邻的垂直外边距塌陷除了以下情况：
  
    * 根元素的盒外边距不会塌陷
    * 如果一个有间隙的元素的上下边距是相邻的，那么它的边距将与其他同级元素的相邻边距折叠，但所产生的边距不会与父块的下边距折叠。
  
    水平的为外边距不会塌陷
  
    两个外边距是相邻的，当且仅当：
  
    * 他们都属于一个流中的块级盒子，
  
    *  没有行盒（line boxes）、空隙（**就是清除浮动嘛！**）、内边距和边框分隔它们（注意某些零高度行盒会因此而被忽略
  
    * 两者都属于垂直相邻的边框，即下列情况之一：
  
      * 盒子的上外边距和它第一个in-flow子元素的上外边距
      * 盒子的下外边距和它下一个in-flow 的子元素的上外边距‘
      * 最后一个in-flow 子元素的下外边距和和如果它父元素有auto 的computed height的下外边距
      * 没有在上下文中建立新的块格式，并且没有计算过的“最小高度”、零或“自动”计算过的“高度”，并且没有流中的子元素的框的顶部和底部边距
      * （我在说些什么……）
  
      如果一个折叠的边距与另一个边距相连，则认为该边距与另一个边距相连。
  
      注意：上述规则表明了：
  
      - 浮动盒的外边距不同其他任何盒折叠（甚至浮动及其文档流内的子元素也不折叠）
      - 创建了新的块格式化上下文的元素（如浮动、 `overflow `不为 `visible `的元素）的外边距不同其在文档流内的子元素外边距折叠
      - 绝对定位盒的外边距不同其他任何盒折叠（甚至不同其文档流内的子元素折叠）
      - 行内块盒的外边距不同其他任何盒折叠（甚至不同其文档流内的子元素折叠）
      - 文档流内块级元素的下外边距始终同其下一个文档流内的块级同胞的上外边距折叠，除非该对同胞之间有空隙。
      - 文档流内块元素如果没有上边框和上内边距，其第一个文档流内块级子元素没有空隙，二者的上外边距折叠。
      - 文档流内 `height `为 `auto `、 `min-height `为零、没有下内边距和下边框的块盒，如果其最后一个文档流内块级子盒的下外边距没有同一个有空隙的上外边距折叠，二者下外边距折叠。
      - 如果某盒的 `min-height `属性为零、没有上下边框和上下内边距、其 `height `为0或 `auto `、没有包含行盒、其所有的文档流内子元素外边距（如果有）折叠，则折叠其外边距。
  
      
  
      当两个或者多个外边距塌陷的时候，外边距的宽度是两个外边距的最大者，在负数的外边距中，值是最大的证书减去最小的负数的绝对值，如果两者都为负数，那么结果是0减去最小负数的绝对值
  
      ## padding properties 
  
      同margin
  
      但是他的值不能为负数
  
      ## border properties
  
      ### border-width
  
      border-width 值模型
  
      他能接受以下值；
  
      	* thin 
      	* medium
      	* thick
      	* length（不能为负数）
      	* 前三个值的具体数由UA决定，但是必须满足以下的关系 thin <= medium <= thick
  
      **'border-top-width'**, **'border-right-width'**, **'border-bottom-width'**, **'border-left-width'**
  
      | *Value:*          | border-width \| [inherit](https://www.w3.org/TR/2011/REC-CSS2-20110607/cascade.html#value-def-inherit) |
      | ----------------- | ------------------------------------------------------------ |
      | *Initial:*        | medium                                                       |
      | *Applies to:*     | all elements                                                 |
      | *Inherited:*      | no                                                           |
      | *Percentages:*    | N/A                                                          |
      | *Media:*          | [visual](https://www.w3.org/TR/2011/REC-CSS2-20110607/media.html#visual-media-group) |
      | *Computed value:* | absolute length; '0' if the border style is 'none' or 'hidden' |
  
      **'border-width'**
  
      | *Value:*          | border-width{1,4} \| [inherit](https://www.w3.org/TR/2011/REC-CSS2-20110607/cascade.html#value-def-inherit) |
      | ----------------- | ------------------------------------------------------------ |
      | *Initial:*        | see individual properties                                    |
      | *Applies to:*     | all elements                                                 |
      | *Inherited:*      | no                                                           |
      | *Percentages:*    | N/A                                                          |
      | *Media:*          | [visual](https://www.w3.org/TR/2011/REC-CSS2-20110607/media.html#visual-media-group) |
      | *Computed value:* | see individual properties                                    |
  
       This property is a shorthand property for setting ['border-top-width'](https://www.w3.org/TR/2011/REC-CSS2-20110607/box.html#propdef-border-top-width), ['border-right-width'](https://www.w3.org/TR/2011/REC-CSS2-20110607/box.html#propdef-border-right-width), ['border-bottom-width'](https://www.w3.org/TR/2011/REC-CSS2-20110607/box.html#propdef-border-bottom-width), and ['border-left-width'](https://www.w3.org/TR/2011/REC-CSS2-20110607/box.html#propdef-border-left-width) at the same place in the style sheet. 
  
       If there is only one component value, it applies to all sides. If there are two values, the top and bottom borders are set to the first value and the right and left are set to the second. If there are three values, the top is set to the first value, the left and right are set to the second, and the bottom is set to the third. If there are four values, they apply to the top, right, bottom, and left, respectively. 
  
      ```css
      /*In the examples below, the comments indicate the resulting widths of the top, right, bottom, and left borders:*/
      
      h1 { border-width: thin }                   /* thin thin thin thin */
      h1 { border-width: thin thick }             /* thin thick thin thick */
      h1 { border-width: thin thick medium }      /* thin thick medium thick */
      ```
  
      ### border-color

**'border-top-color'**, **'border-right-color'**, **'border-bottom-color'**, **'border-left-color'**

| *Value:*          | color \| transparent \| [inherit](https://www.w3.org/TR/2011/REC-CSS2-20110607/cascade.html#value-def-inherit) |
| ----------------- | ------------------------------------------------------------ |
| *Initial:*        | the value of the 'color' property                            |
| *Applies to:*     | all elements                                                 |
| *Inherited:*      | no                                                           |
| *Percentages:*    | N/A                                                          |
| *Media:*          | [visual](https://www.w3.org/TR/2011/REC-CSS2-20110607/media.html#visual-media-group) |
| *Computed value:* | when taken from the 'color' property, the computed value of 'color'; otherwise, as specified |

**'border-color'**

| *Value:*          | color \| transparent ]{1,4} \| [inherit](https://www.w3.org/TR/2011/REC-CSS2-20110607/cascade.html#value-def-inherit) |
| ----------------- | ------------------------------------------------------------ |
| *Initial:*        | see individual properties                                    |
| *Applies to:*     | all elements                                                 |
| *Inherited:*      | no                                                           |
| *Percentages:*    | N/A                                                          |
| *Media:*          | [visual](https://www.w3.org/TR/2011/REC-CSS2-20110607/media.html#visual-media-group) |
| *Computed value:* | see individual properties                                    |

The ['border-color'](https://www.w3.org/TR/2011/REC-CSS2-20110607/box.html#propdef-border-color) property sets the color of the four borders. Values have the following meanings:

- **color**

  Specifies a color value.

- **transparent**

  The border is transparent (though it may have width).

The ['border-color'](https://www.w3.org/TR/2011/REC-CSS2-20110607/box.html#propdef-border-color) property can have from one to four component values, and the values are set on the different sides as for ['border-width'](https://www.w3.org/TR/2011/REC-CSS2-20110607/box.html#propdef-border-width).

If an element's border color is not specified with a border property, user agents must use the value of the element's ['color'](https://www.w3.org/TR/2011/REC-CSS2-20110607/colors.html#propdef-color) property as the [computed value](https://www.w3.org/TR/2011/REC-CSS2-20110607/cascade.html#computed-value) for the border color.

###  Border style: ['border-top-style'](https://www.w3.org/TR/2011/REC-CSS2-20110607/box.html#propdef-border-top-style), ['border-right-style'](https://www.w3.org/TR/2011/REC-CSS2-20110607/box.html#propdef-border-right-style), ['border-bottom-style'](https://www.w3.org/TR/2011/REC-CSS2-20110607/box.html#propdef-border-bottom-style), ['border-left-style'](https://www.w3.org/TR/2011/REC-CSS2-20110607/box.html#propdef-border-left-style), and ['border-style']

*  The border style properties specify the **line style** of a box's border (solid, double, dashed, etc.). The properties defined in this section refer to the **** value type, which may take one of the following values: 

  * **none**

    No border; the computed border width is zero.

    **hidden**

    Same as 'none', except in terms of [border conflict resolution](https://www.w3.org/TR/2011/REC-CSS2-20110607/tables.html#border-conflict-resolution) for [table elements](https://www.w3.org/TR/2011/REC-CSS2-20110607/tables.html).

    **dotted**(虚线)

    The border is a series of dots.

    **dashed**（点线）

    The border is a series of short line segments.

    **solid**（横线）

    The border is a single line segment.

    **double**（双横线）

    The border is two solid lines. The sum of the two lines and the space between them equals the value of ['border-width'](https://www.w3.org/TR/2011/REC-CSS2-20110607/box.html#propdef-border-width).

    **groove**

    The border looks as though it were carved into the canvas.

    ![1617175823791](C:\Users\Danan\AppData\Roaming\Typora\typora-user-images\1617175823791.png)

    **ridge**

    The opposite of 'groove': the border looks as though it were coming out of the canvas.

    ![1617175860216](C:\Users\Danan\AppData\Roaming\Typora\typora-user-images\1617175860216.png)

    **inset**

    The border makes the box look as though it were embedded in the canvas.

    ![1617175883367](C:\Users\Danan\AppData\Roaming\Typora\typora-user-images\1617175883367.png)

    **outset**

    The opposite of 'inset': the border makes the box look as though it were coming out of the canvas.

    ![1617175907481](C:\Users\Danan\AppData\Roaming\Typora\typora-user-images\1617175907481.png)

**'border-top-style'**, **'border-right-style'**, **'border-bottom-style'**, **'border-left-style'**

| *Value:*          | border-style \| [inherit](https://www.w3.org/TR/2011/REC-CSS2-20110607/cascade.html#value-def-inherit) |
| ----------------- | ------------------------------------------------------------ |
| *Initial:*        | none                                                         |
| *Applies to:*     | all elements                                                 |
| *Inherited:*      | no                                                           |
| *Percentages:*    | N/A                                                          |
| *Media:*          | [visual](https://www.w3.org/TR/2011/REC-CSS2-20110607/media.html#visual-media-group) |
| *Computed value:* | as specified                                                 |

**'border-style'**

| *Value:*          | border-style{1,4} \| [inherit](https://www.w3.org/TR/2011/REC-CSS2-20110607/cascade.html#value-def-inherit) |
| ----------------- | ------------------------------------------------------------ |
| *Initial:*        | see individual properties                                    |
| *Applies to:*     | all elements                                                 |
| *Inherited:*      | no                                                           |
| *Percentages:*    | N/A                                                          |
| *Media:*          | [visual](https://www.w3.org/TR/2011/REC-CSS2-20110607/media.html#visual-media-group) |
| *Computed value:* | see individual properties                                    |

border-style属性设置四个边框的样式。它可以有一个到四个组件值，这些值设置在不同的一边，就像上面的“borderwidth”一样。

### Border shorthand properties: ['border-top'](https://www.w3.org/TR/2011/REC-CSS2-20110607/box.html#propdef-border-top), ['border-right'](https://www.w3.org/TR/2011/REC-CSS2-20110607/box.html#propdef-border-right), ['border-bottom'](https://www.w3.org/TR/2011/REC-CSS2-20110607/box.html#propdef-border-bottom), ['border-left'](https://www.w3.org/TR/2011/REC-CSS2-20110607/box.html#propdef-border-left), and ['border']

**'border-top'**, **'border-right'**, **'border-bottom'**, **'border-left'**

| *Value:*          | border-width\|border-style\| [<'border-top-color'>](https://www.w3.org/TR/2011/REC-CSS2-20110607/box.html#propdef-border-top-color) ] \| [inherit](https://www.w3.org/TR/2011/REC-CSS2-20110607/cascade.html#value-def-inherit) |
| ----------------- | ------------------------------------------------------------ |
| *Initial:*        | see individual properties                                    |
| *Applies to:*     | all elements                                                 |
| *Inherited:*      | no                                                           |
| *Percentages:*    | N/A                                                          |
| *Media:*          | [visual](https://www.w3.org/TR/2011/REC-CSS2-20110607/media.html#visual-media-group) |
| *Computed value:* | see individual properties                                    |

```css
p { border: solid red }
p {
  border-top: solid red;
  border-right: solid red;
  border-bottom: solid red;
  border-left: solid red
}
/*上下是等价的*/
```

```css
/*因为在某种程度上，属性具有重叠的功能，所以指定规则的顺序很重要。*/
blockquote {
  border: solid red;
  border-left: double;
  color: black;
}
/*In the above example, the color of the left border is black, while the other borders are red. This is due to 'border-left' setting the width, style, and color. Since the color value is not given by the 'border-left' property, it will be taken from the 'color' property. The fact that the 'color' property is set after the 'border-left' property is not relevant.*/
```

## The box model for inline elements in bidirectional context

对每个行盒而言，用户代理必须按视觉顺序（而非逻辑顺序）渲染其生成的行内盒的外边距、边框和内边距。

当元素 `direction `属性值为 `ltr `，元素呈现的第一个行盒的最左生成盒拥有左外边距、左边框和左内边距，而元素呈现的最后一个行盒的最右生成盒拥有右内边距、右边框和右外边距。

当元素 `direction `属性值为 `rtl `，元素呈现的第一个行盒的最右生成盒拥有右外边距、右边框和右内边距，而元素呈现的最后一个行盒的最左生成盒拥有左内边距、左边框和左外边距。